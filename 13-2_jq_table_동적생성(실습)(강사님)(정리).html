<!doctype html>
<html>
<head>
    <meta charset="utf-8">
    <title></title>
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <script>
        /* (실습) : 행과 열 값을 읽어서 테이블 만들기.
        val() 메소드 :
        1. 클릭이벤트 연결
        2. input 태그값 일어오기(행, 열)
        3. 행, 열 값에 맞추어 table 태그 생성
        4. 원하는 위치(#myDiv)에 table 태그 추가
        */
       $().ready(function(){
            initEvent();
       });

        //=======================
        //이렇게 따로 function으로 빼내야 유지 보수 편하다 
        function initEvent(){
            //1. 클릭이벤트 연결
            // $("#btn").click(btnMakeTable()); //이렇게 였는데
            $("#btn").on("click", btnMakeTable); //on으로 바꿈 (?)
        };
        function btnMakeTable(){
                // 2. input 태그값 일어오기(행, 열)
                // var rowCnt = document.getElementById("row").value;
                // ㄴ이건 자바스크립트
                var rowCnt = $("#row").val();
                // ㄴ이게 jQuery!!! (간편)
                var colCnt = $("#col").val();
                console.log("rowCnt : " + rowCnt + ", colCnt : " + colCnt);    
                var htmlTag = makeTable(rowCnt, colCnt); //***2.이렇게 해줌

                // 4. 원하는 위치(#myDiv)에 table 태그 추가
                $("#myDiv").html(htmlTag); //***3.이것도

            };
            function makeTable(rowCnt, colCnt){
                // 3. 행, 열 값에 맞추어 table 태그 생성
                // 시작태그 하면 끝태그 바로 같이 만들어줘야 나중에 안 까먹는다
                var htmlTag = "<table>";

                    htmlTag += "<thead>";
                    htmlTag += "<tr>";
                    //컬럼의 갯수만큼 th 태그 만들기
                    for(let i=0; i<colCnt; i++){
                        htmlTag += "<th>" + "항목" + (i+1) +"</th>";
                    }
                    htmlTag += "</tr>";
                    htmlTag += "</thead>";
                    //tbody 영역 작성
                    htmlTag += "<tbody>";
                        //tr, td 태그 만들기
                        for(let row=1; row <= rowCnt; row++){
                            htmlTag += "<tr>";
                                for(let col=1; col <= colCnt; col++){
                                    htmlTag += "<td>데이터" + row + ", " + col + "</td>";
                                }
                            htmlTag += "</tr>";
                        }
                    htmlTag += "</tbody>";

                    htmlTag += "</table>";
                    
                    return htmlTag; //***1.얘를 추가해주고 
            };
    </script>

    <style>
        table { 
            border : 1px solid black;
            border-collapse: collapse;
            background-color: powderblue;
            }
        th, td{ border : 1px solid black;}
        th { background-color: gray;}
        #myDiv {background-color: pink;}
    </style>
</head>
<body>
    <h2>테이블 동적 생성</h2>
    <input type="text" id="row" siza="5" value="2">행 &nbsp;
    <input type="text" id="col" siza="5" value="3">열 &nbsp;
    <button id="btn">테이블 생성</button>
    <hr>
    <div id="myDiv">
        동적으로 테이블 생성할 영역(n행)

    </div>
    <hr>
    <div>
        <h3>참고 (th)제외하고, 2행 3열 테이블</h3>
        <table border>
            <thead>
                <tr>
                    <th>항목1</th>
                    <th>항목2</th>
                    <th>항목3</th>
                </tr>
            </thead>
            <tbody>
                <tr>
                    <td>데이터 1,1</td>
                    <td>데이터 1,2</td>
                    <td>데이터 1,3</td>
                </tr>
                <tr>
                    <td>데이터 2,1</td>
                    <td>데이터 2,2</td>
                    <td>데이터 2,3</td>
                </tr>
            </tbody>
        </table>
    </div>



    
    <br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br>
</body>
</html>