<!doctype html>
<html>
<head>
    <meta charset="utf-8">
    <title>jq 자동차견적</title>
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <style>
        #carZone {
            width: 600px;
            margin: auto; /*중앙 정렬*/
            border : 1px solid gray;
            text-align: center;
        }
        h1 {
            text-align: center;
        }
        #car {
            width: 100%;
            border-collapse: collapse;
        }
        #car th, #car td {
            border : 1px solid black;
            text-align: center;
        }
        #car thead {
            background-color: gray;
        }
        #totalTxt {
            background-color: gray;

        }
        #total {
            border : none;
            text-align: center;
            font-size: 1.5rem;
            background-color: coral;
            margin: 0px;
            padding: 0px;
        }
    </style>
    <script>
        //(실습)jQuery 사용해서 자동차 견적내기
        // 이벤트 발생한 체크박스에 대해 개별 계산 처리
        // 체크 : 차량금액 + 체크박스 금액
        // 체크해제 : 현재차량금액 - 체크박스 금액
        $(document).ready(function(){
            //checkbox 이벤트 처리
            $(".opt").change(function(){ //클릭이 아니라 바뀌면
                console.log("이벤트 발생 객체 : " + this.id);
                console.log("이벤트 발생 객체 체크상태 : " + this.checked);//true, false
                console.log("jQ prop checked : " + $(this).prop("checked"));//true, false
                console.log("jQ prop checked : " + $(this).attr("checked"));//true, false

                //  현재 차량금액 솩인
                let totalValue = parseInt($("#total").val());
                //체크 상태면 합산, 체크해제면 빼기 처리
                if(this.checked){
                    totalValue += Number($(this).val());
                }else{
                    totalValue -= Number($(this).val());
                }
                $("#total").val(totalValue);
                
            });

        });
    </script>

</head>
<body>
    <div id="carZone">
        <h1>자동차 견적</h1>
        <p><img src="images/car1.jpg" alt="자동차이미지" ></p>

        <table id="car">
            <colgroup>
                <col width="50%">
                <col width="30%">
            </colgroup>
            <thead>
                <tr>
                    <th>옵션</th>
                    <th>추가가격</th>
                    <th>선택여부</th>
                </tr>
            </thead>
            <tbody>
                <tr>
                    <td>인조가죽시트</td>
                    <td>300,000</td>
                    <td>
                        <input type="checkbox" value="300000" id="opt1" class = "opt" >
                         <!--맨 뒤에 checked 해주면 기본 디폴트값 설정됨  -->
                         <!-- 근데 그러면 default value값을 넣어줘야 하는데...!! -->
                        <!-- onclick을 넣어버리는 inline 방식도 있다 -->
                    </td>
                </tr>
                <tr>
                    <td>네비게이션</td>
                    <td>400,000</td>
                    <td>
                        <input type="checkbox" value="400000" id="opt2" class = "opt">
                    </td>
                </tr>
                <tr>
                    <td>썬루프</td>
                    <td>500,000</td>
                    <td>
                        <input type="checkbox" value="500000" id="opt3" class = "opt">
                    </td>
                </tr>
            </tbody>
            <tfoot>
                <tr>
                    <td id="totalTxt">차량금액(옵션포함)</td>
                    <td colspan="2" >
                        <input type="text" value="20000000" id="total" >
                    </td>
                    <!-- 컬럼 두개 합해졌으니까 colspan -->
                </tr>
            </tfoot>
        </table>




    </div>
    
    
    <br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br>
</body>
</html>